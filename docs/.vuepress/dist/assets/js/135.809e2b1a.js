(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{344:function(l,e,a){"use strict";a.r(e);var t=a(0),n=Object(t.a)({},function(){var l=this,e=l.$createElement,a=l._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[a("h2",{attrs:{id:"全局变量和局部变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局变量和局部变量","aria-hidden":"true"}},[l._v("#")]),l._v(" 全局变量和局部变量")]),l._v(" "),a("ul",[a("li",[a("p",[l._v("不允许创建新的全局变量，也不允许对_ENV, _G全局变量做修改，只允许新创建local变量，语法是类似local a = 123; local a,b = “name”, ‘age’这样。如果创建局部函数，可以类似local function abc() return “abc”; end")])]),l._v(" "),a("li",[a("p",[l._v("局部变量声明可以同时声明变量类型，比如local a: string = “hello”")])]),l._v(" "),a("li",[a("p",[l._v("局部变量的值在编译期需要和局部变量的编译期类型声明一致，比如local a = 1; a = “hi” 这样会编译期报错.")])]),l._v(" "),a("li",[a("p",[l._v("为了安全因素，限制智能合约中的每个函数不能有超过128个局部变量，并且限制每个局部变量的符号长度不能超过128个字符(函数的参数，包括self，也算入局部变量的数量中)")])]),l._v(" "),a("li",[a("p",[l._v("变量名称、参数名、event名称的符号不允许使用关键字的名字，尤其注意 do/end/then等容易被误用为变量名/参数名/event名称的关键字")])]),l._v(" "),a("li",[a("p",[l._v("局部变量可以用local, var, let三个关键字来声明")])]),l._v(" "),a("li",[a("p",[l._v("var关键字和local 关键字等效，都是用来声明可变局部变量，可变局部变量在接下来的可见作用域代码中可以被使用和修改")])]),l._v(" "),a("li",[a("p",[l._v("let关键字用来声明不可变局部变量，声明的局部变量只能被初始化值，不能修改值，但是不可变的只是变量本身，变量指向的值如果是table或record类型依然可以改变这个table的内容")])])]),l._v(" "),a("p",[l._v("比如:")]),l._v(" "),a("pre",[a("code",[l._v("var a = 'hello'\nlocal b = 'hello'\nlet c = 'hello'\nvar d: object = 'hello'\na = 'uvm'  -- 正确\na = 123  -- 错误，a类型不能改变\nb = 'uvm'  -- 正确\nb = 123 -- 错误，b类型不能改变\nc = 'uvm' -- 错误\nd = 123  -- 正确，d变量编译期类型的object类型，可以用数字类型的值赋值\n")])])])},[],!1,null,null,null);e.default=n.exports}}]);