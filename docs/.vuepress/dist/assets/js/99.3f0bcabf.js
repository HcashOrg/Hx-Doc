(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{351:function(n,t,e){"use strict";e.r(t);var a=e(0),r=Object(a.a)({},function(){var n=this.$createElement,t=this._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h1",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例","aria-hidden":"true"}},[this._v("#")]),this._v(" 示例")]),this._v(" "),t("pre",[t("code",[this._v("-- Hello, this is a example contract\n\n-- 这里是定义合约的storage的类型\ntype Storage = {\n    name: string,\n    age: int,\n    money: number,\n    is_man: bool,\n    int_table: Map<int>,\n    int_array: Array<int>\n}\n\n-- 声明一个合约类型的变量M\nlet M = Contract<Storage>()\n\n-- 给合约定义一个初始化函数，这里M代表合约的变量\nfunction M:init() \n    pprint('contract demo init')\n    self.storage['name'] = 'zhangsan'  -- 这里是给合约的storage各属性进行初始化操作，下面代码类似\n    self.storage['age'] = 16\n    self.storage['money'] = 1.1345\n    self.storage['is_man'] = true\n    self.storage['int_table'] = {a: 1,b: 2, c: 3,d: 4}\n    self.storage['int_array'] = [5,6,7,8]\nend\n\n-- 给合约定义一个名为set的API，参数是名为name的字符串类型的参数\nfunction M:set(name: string) \n    pprint('contract demo set')\n    self.storage['name'] = 'lisi'\n    self.storage['age'] = 14\n    self.storage['money'] = 5.3456\n    self.storage['is_man'] = false   \n    self.storage['int_table'].a = 15\n    self.storage['int_table'].f = 10\n    table.remove(self.storage['int_array'], 1)\n    pprint('after remove')\n    self.storage['int_array'][1] = 99\n    pprint('after set array by index')\n    pprint(self.storage.int_array)\n    self.storage.int_array[#self.storage.int_array+1] = 20\n    table.insert(self.storage['int_array'], 19)\n    pprint('insert value to array')\n    -- 执行从合约账户转账到用户账户的操作\n    transfer_from_contract_to_address(user_address_here, get_system_asset_symbol(), 10000)\nend\n\nfunction M:get(arg: string)\n    pprint('test3 contract demo get')\n    pprint(self.storage['name'])  -- 这里是读取合约的storage中属性为name的值并输出\n    pprint(self.storage['age'])\n    pprint(self.storage['money'])\n    pprint(self.storage['is_man'])\n    pprint(self.storage['int_table'])\n    pprint(self.storage['int_array'])\nend\n\nreturn M\n")])])])},[],!1,null,null,null);t.default=r.exports}}]);