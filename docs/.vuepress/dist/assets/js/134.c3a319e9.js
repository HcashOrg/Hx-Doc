(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{347:function(t,e,a){"use strict";a.r(e);var r=a(0),n=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"本地脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地脚本","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地脚本")]),t._v(" "),a("h1",{attrs:{id:"本地脚本简单介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地脚本简单介绍","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地脚本简单介绍")]),t._v(" "),a("p",[t._v("本地回调脚本同样适用本语言和语法，但是不需要遵循合约的格式，不需要脚本结尾返回一个table，也可以定义全局变量。")]),t._v(" "),a("p",[t._v("本地回调脚本执行时会按照脚本中代码顺序依次执行。")]),t._v(" "),a("h1",{attrs:{id:"一个简单的接受合约event的脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一个简单的接受合约event的脚本","aria-hidden":"true"}},[t._v("#")]),t._v(" 一个简单的接受合约event的脚本")]),t._v(" "),a("pre",[a("code",[t._v('pprint("got event ", event_type, " from contract ", contract_id（emit触发代码所在的合约ID）, " param is ", param)\n')])]),t._v(" "),a("h1",{attrs:{id:"本地脚本的全局变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地脚本的全局变量","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地脚本的全局变量")]),t._v(" "),a("pre",[a("code",[t._v("truncated: emit抛出的参数是否被截断\nparam: emit时抛出的字符串格式的参数\ncontract_id: emit触发代码所在的合约ID\nevent_type: 字符串格式的事件类型\n")])]),t._v(" "),a("h1",{attrs:{id:"本地脚本的模块使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地脚本的模块使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 本地脚本的模块使用")]),t._v(" "),a("p",[t._v("本地脚本可以通过require函数引入内置库的模块，从而在脚本中使用这些模块的功能")]),t._v(" "),a("p",[t._v("比如")]),t._v(" "),a("pre",[a("code",[t._v("let http = require 'http'\nhttp.listen('127.0.0.1', 3000)  -- 在3000端口监听http请求\n")])]),t._v(" "),a("h1",{attrs:{id:"如何将本地脚本绑定到链上合约"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何将本地脚本绑定到链上合约","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何将本地脚本绑定到链上合约")]),t._v(" "),a("p",[t._v("在区块链的控制台中或者界面中操作按钮操作。")]),t._v(" "),a("p",[t._v('使用命令"compile_script 脚本源文件路径"来编译')]),t._v(" "),a("p",[t._v('使用命令"add_script 脚本编译后的文件路径 描述字符串"来将本地脚本注册到链上')])])},[],!1,null,null,null);e.default=n.exports}}]);